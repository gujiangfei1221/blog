---
layout: mypost
title:  "如何让github action部署成功后邮件通知"
categories: [博客搭建]
---

## 1、问题背景
在前面2个帖子分别完成了博客的搭建和美化后，今天美美的又去看了一遍2个帖子，发现有一些语句不通畅，于是就动手改了一波，改完以后提交git，通过github actions可以自动帮我们更新部署博客，整改过程自动化，感觉很cool~

但是问题来了，从我提交到最终更新完毕大约需要2分钟，而我并不希望手动去刷新页面看是否更新了，毕竟只有偷懒才能推进技术(*￣︶￣)

## 2、解决方案
在目前大语言模型火爆的24年，当然是把问题抛给大模型啦，果然大模型也不出意外给了1个解决方案和示例代码，如图：

![](1.png)

所以解决方案很简单，就是在github actions的workflow脚本中增加邮件通知能力，让本次的编译和部署成功后，调用大佬们编写好的邮件通知action能力发送邮件，具体步骤如下：

1、拿AI给的示例，把邮件通知部分添加到我们之前的workflow文件中，如图：

![](2.png)

2、这边我们发现敏感的账号密码，在我们的workflow文件中是一个占位符的写法，想想也很合理，毕竟账号密码是属于私密信息，而仓库是public的，万一提交到git上，可能会造成经济损失，这边github很贴心的提供了一个叫secret的功能，如图：

![](3.png)

这样workflow文件会读取对应环境变量中的相关值，保证了安全性

3、我们提交新的workflow文件到github，然后等待邮件通知，果不然大约2分钟我们的邮件就收到了部署成功的通知，如图：

![](4.png)

## 3、总结
1、偷懒才是技术发展的动力

2、善用AI大模型，可以大大提高效率


